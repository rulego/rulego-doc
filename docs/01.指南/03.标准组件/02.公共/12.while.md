---
title: While循环
article: false
author: 
  name: rulego
  link: https://github.com/rulego/rulego
date: 2023-09-13 21:35:33
permalink: /pages/while/
---

`while`组件：条件循环节点。只要满足指定的条件，就会重复执行目标节点或规则链。

## 配置

| 字段 | 类型 | 说明 | 默认值 |
| :--- | :--- | :--- | :--- |
| condition | string | 循环条件表达式，使用 `el` 表达式。例如 `${msg.count} < 5`。 |  |
| do | string | 每次迭代执行的节点ID或子规则链ID。 |  |

## Relation Type

- ***Success:*** 循环结束后，消息将沿`Success`链路径传递。
- ***Failure:*** 如果表达式执行出错或迭代过程中出错，消息将沿`Failure`链路径传递。

## 执行结果

返回最后一次迭代的结果。上一次迭代的执行结果作为下一次迭代的输入。

## 迭代上下文变量

在迭代过程中，组件会设置以下元数据变量：
- `_loopIndex`: 当前迭代索引（从0开始）。

## 终止循环

如果在迭代过程中，消息元数据包含 `_break` 且值为 `true`，则会立即终止循环。

## 配置示例

```json
{
  "id": "s1",
  "type": "while",
  "name": "While循环",
  "configuration": {
    "condition": "${msg.count} < 5",
    "do": "s2"
  }
}
```
