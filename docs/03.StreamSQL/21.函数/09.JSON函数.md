---
title: JSONå‡½æ•°
date: 2024-01-15 10:07:00
permalink: /pages/streamsql-json-functions/
article: false
author: 
  name: StreamSQL
  link: https://github.com/rulego/streamsql
---

# StreamSQL JSONå‡½æ•°

JSONå‡½æ•°ç”¨äºå¤„ç†JSONæ•°æ®ã€‚

## TO_JSON - è½¬æ¢ä¸ºJSONå‡½æ•°
**è¯­æ³•**: `to_json(value)`  
**æè¿°**: å°†å€¼è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ã€‚  
 
## FROM_JSON - ä»JSONè§£æå‡½æ•°
**è¯­æ³•**: `from_json(json_str)`  
**æè¿°**: ä»JSONå­—ç¬¦ä¸²è§£æå€¼ã€‚  
 
## JSON_EXTRACT - JSONæå–å‡½æ•°
**è¯­æ³•**: `json_extract(json_source, path)`  
**æè¿°**: ä»JSONå­—ç¬¦ä¸²ã€Mapæˆ–Arrayä¸­æå–æŒ‡å®šè·¯å¾„çš„å€¼ã€‚æ”¯æŒåµŒå¥—å¯¹è±¡å’Œæ•°ç»„ç´¢å¼•ã€‚

**å‚æ•°**:
- `json_source`: è¾“å…¥æ•°æ®ï¼Œå¯ä»¥æ˜¯JSONæ ¼å¼å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯Mapæˆ–Arrayç±»å‹å¯¹è±¡
- `path`: æå–è·¯å¾„ï¼Œæ”¯æŒ `.` è®¿é—®å­—æ®µï¼Œ`[]` è®¿é—®æ•°ç»„ç´¢å¼•æˆ–Map Key

**ç¤ºä¾‹**:
```sql
-- æå–åŸºæœ¬å­—æ®µ
json_extract('{"name": "Alice"}', 'name') -- è¿”å› "Alice"
json_extract('{"name": "Alice"}', '$.name') -- è¿”å› "Alice"

-- æå–åµŒå¥—å­—æ®µ
json_extract('{"user": {"address": {"city": "New York"}}}', 'user.address.city') -- è¿”å› "New York"
json_extract('{"user": {"address": {"city": "New York"}}}', '$.user.address.city') -- è¿”å› "New York"

-- æå–æ•°ç»„å…ƒç´ 
json_extract('[10, 20, 30]', '[1]') -- è¿”å› 20
json_extract('[10, 20, 30]', '$[1]') -- è¿”å› 20

-- å¤æ‚åµŒå¥—æå–
json_extract('{"users": [{"name": "Alice"}, {"name": "Bob"}]}', 'users[1].name') -- è¿”å› "Bob"
``` 
 
## JSON_VALID - JSONéªŒè¯å‡½æ•°
**è¯­æ³•**: `json_valid(json_str)`  
**æè¿°**: éªŒè¯å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœ‰æ•ˆçš„JSONã€‚  

## JSON_TYPE - JSONç±»å‹å‡½æ•°
**è¯­æ³•**: `json_type(json_str)`  
**æè¿°**: è¿”å›JSONå€¼çš„ç±»å‹ã€‚  

## JSON_LENGTH - JSONé•¿åº¦å‡½æ•°
**è¯­æ³•**: `json_length(json_str)`  
**æè¿°**: è¿”å›JSONæ•°ç»„æˆ–å¯¹è±¡çš„é•¿åº¦ã€‚  

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ—¶é—´æ—¥æœŸå‡½æ•°](/pages/streamsql-datetime-functions/) - äº†è§£æ—¶é—´æ—¥æœŸå‡½æ•°çš„è¯¦ç»†ç”¨æ³•
- [å“ˆå¸Œå‡½æ•°](/pages/streamsql-hash-functions/) - äº†è§£å“ˆå¸Œå‡½æ•°çš„è¯¦ç»†ç”¨æ³•
- [SQLå‚è€ƒ](/pages/streamsql-sql/) - æŸ¥çœ‹å®Œæ•´çš„SQLè¯­æ³•å‚è€ƒ